import{a as j}from"./chunk-HL65E55A.js";import{a as U}from"./chunk-SFP4LTJZ.js";import{a as R}from"./chunk-A7IG4BAE.js";import{$ as S,B as i,Ba as T,E as P,I as l,K as h,L as s,M as b,N as e,O as t,P as a,Q as M,R as x,S as _,T as O,U as n,V as p,W as v,ba as E,ca as k,ea as y,ma as w,oa as I,qa as D,r as g,t as f,u,xa as z,ya as L,z as C,za as A}from"./chunk-PPRWOMJK.js";var N=()=>({exact:!0});function q(o,d){if(o&1&&(e(0,"div",34)(1,"h3"),n(2),t(),e(3,"p"),n(4),t()()),o&2){let r=_(2);i(2),p(r.productor.nombre),i(2),p(r.currentUser==null?null:r.currentUser.email)}}function Y(o,d){if(o&1&&(e(0,"div",30)(1,"div",31),a(2,"img",32),t(),l(3,q,5,2,"div",33),t()),o&2){let r=_();i(2),s("src",r.productor.imagenUrl||"/images/default-producer.png",C)("alt",r.productor.nombre),i(),s("ngIf",!r.sidebarCollapsed)}}function B(o,d){o&1&&(e(0,"span"),n(1,"Dashboard"),t())}function G(o,d){o&1&&(e(0,"span"),n(1,"Mi Perfil"),t())}function H(o,d){o&1&&(e(0,"span"),n(1,"Mis Productos"),t())}function J(o,d){o&1&&(e(0,"span"),n(1,"Categor\xEDas"),t())}function K(o,d){o&1&&(e(0,"span"),n(1,"Pedidos"),t())}function Q(o,d){o&1&&(e(0,"span"),n(1,"Cerrar Sesi\xF3n"),t())}function W(o,d){if(o&1&&(e(0,"div",51)(1,"div",52)(2,"div",53),a(3,"i",54),t(),e(4,"div",55)(5,"h3"),n(6),t(),e(7,"p"),n(8,"Productos Activos"),t()()(),e(9,"div",52)(10,"div",53),a(11,"i",56),t(),e(12,"div",55)(13,"h3"),n(14),t(),e(15,"p"),n(16,"Ventas Este Mes"),t()()(),e(17,"div",52)(18,"div",53),a(19,"i",57),t(),e(20,"div",55)(21,"h3"),n(22),E(23,"number"),t(),e(24,"p"),n(25,"Ingresos del Mes"),t()()(),e(26,"div",52)(27,"div",53),a(28,"i",58),t(),e(29,"div",55)(30,"h3"),n(31),t(),e(32,"p"),n(33,"Valoraci\xF3n Media"),t()()()()),o&2){let r=_(2);i(6),p(r.estadisticas.totalProductos||0),i(8),p(r.estadisticas.totalVentas||0),i(8),v("\u20AC",k(23,4,r.estadisticas.ingresosMes||0,"1.2-2"),""),i(9),p(r.estadisticas.valoracion||"N/A")}}function X(o,d){if(o&1&&(e(0,"div",35),l(1,W,34,7,"div",36),e(2,"div",37)(3,"h2"),n(4,"Acciones R\xE1pidas"),t(),e(5,"div",38)(6,"a",39),a(7,"i",40),e(8,"h3"),n(9,"Agregar Producto"),t(),e(10,"p"),n(11,"A\xF1ade un nuevo producto a tu cat\xE1logo"),t()(),e(12,"a",41),a(13,"i",42),e(14,"h3"),n(15,"Nueva Categor\xEDa"),t(),e(16,"p"),n(17,"Crea una nueva categor\xEDa de productos"),t()(),e(18,"a",43),a(19,"i",44),e(20,"h3"),n(21,"Actualizar Perfil"),t(),e(22,"p"),n(23,"Modifica la informaci\xF3n de tu empresa"),t()(),e(24,"a",45),a(25,"i",46),e(26,"h3"),n(27,"Ver Pedidos"),t(),e(28,"p"),n(29,"Gestiona los pedidos recibidos"),t()()()(),e(30,"div",47)(31,"div",48)(32,"h2"),n(33,"Productos Recientes"),t(),e(34,"a",49),n(35,"Ver Todos"),t()(),e(36,"div",50)(37,"p"),n(38,"Aqu\xED se mostrar\xE1n tus productos m\xE1s recientes"),t()()()()),o&2){let r=_();i(),s("ngIf",r.estadisticas)}}function Z(o,d){o&1&&(e(0,"div",59),a(1,"div",60),e(2,"p"),n(3,"Cargando panel de control..."),t()())}var V=class o{userStore=g(U);productorService=g(R);authService=g(j);router=g(z);productor=null;estadisticas=null;loading=!0;sidebarCollapsed=!1;currentUser=this.userStore.snapshot();ngOnInit(){if(!this.currentUser||this.currentUser.tipoUsuario!=="PRODUCTOR"){this.router.navigateByUrl("/login/productores");return}this.loadProductorData()}loadProductorData(){this.currentUser&&this.productorService.getProductorPorUsuario(this.currentUser.idUsuario).subscribe({next:d=>{this.productor=d,this.loadEstadisticas()},error:()=>{this.loading=!1}})}loadEstadisticas(){this.productor&&this.productorService.getEstadisticasProductor(this.productor.idProductor).subscribe({next:d=>{this.estadisticas=d,this.loading=!1},error:()=>{this.loading=!1}})}toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed}logout(){this.authService.logout()}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=P({type:o,selectors:[["app-dashboard-productor"]],decls:44,vars:18,consts:[["loadingTemplate",""],[1,"dashboard"],[1,"dashboard__sidebar"],[1,"sidebar__header"],["href","/",1,"sidebar__brand"],["src","/images/logo_test.svg","alt","Cosecha en Cope","width","120"],[1,"sidebar__toggle",3,"click"],[1,"fas"],["class","sidebar__user",4,"ngIf"],[1,"sidebar__menu"],["routerLink","/productor/dashboard","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"fas","fa-chart-line"],[4,"ngIf"],["routerLink","/productor/perfil","routerLinkActive","active"],[1,"fas","fa-user-edit"],["routerLink","/productor/articulos","routerLinkActive","active"],[1,"fas","fa-box"],["routerLink","/productor/categorias","routerLinkActive","active"],[1,"fas","fa-tags"],["routerLink","/productor/pedidos","routerLinkActive","active"],[1,"fas","fa-shopping-cart"],[1,"sidebar__footer"],[1,"btn-logout",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"dashboard__main"],[1,"main__header"],[1,"header__actions"],["routerLink","/productor/articulos/nuevo",1,"btn","btn--primary"],[1,"fas","fa-plus"],["class","main__content",4,"ngIf","ngIfElse"],[1,"sidebar__user"],[1,"user__avatar"],[3,"src","alt"],["class","user__info",4,"ngIf"],[1,"user__info"],[1,"main__content"],["class","stats-grid",4,"ngIf"],[1,"quick-actions"],[1,"actions-grid"],["routerLink","/productor/articulos/nuevo",1,"action-card"],[1,"fas","fa-plus-circle"],["routerLink","/productor/categorias/nueva",1,"action-card"],[1,"fas","fa-tag"],["routerLink","/productor/perfil",1,"action-card"],[1,"fas","fa-user-cog"],["routerLink","/productor/pedidos",1,"action-card"],[1,"fas","fa-list-alt"],[1,"recent-products"],[1,"section-header"],["routerLink","/productor/articulos",1,"btn","btn--outline"],[1,"products-placeholder"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-card__icon"],[1,"fas","fa-box","text-blue"],[1,"stat-card__content"],[1,"fas","fa-shopping-cart","text-green"],[1,"fas","fa-euro-sign","text-yellow"],[1,"fas","fa-star","text-orange"],[1,"loading-container"],[1,"spinner"]],template:function(r,c){if(r&1){let m=M();e(0,"div",1)(1,"nav",2)(2,"div",3)(3,"a",4),a(4,"img",5),t(),e(5,"button",6),x("click",function(){return f(m),u(c.toggleSidebar())}),a(6,"i",7),t()(),l(7,Y,4,3,"div",8),e(8,"ul",9)(9,"li")(10,"a",10),a(11,"i",11),l(12,B,2,0,"span",12),t()(),e(13,"li")(14,"a",13),a(15,"i",14),l(16,G,2,0,"span",12),t()(),e(17,"li")(18,"a",15),a(19,"i",16),l(20,H,2,0,"span",12),t()(),e(21,"li")(22,"a",17),a(23,"i",18),l(24,J,2,0,"span",12),t()(),e(25,"li")(26,"a",19),a(27,"i",20),l(28,K,2,0,"span",12),t()()(),e(29,"div",21)(30,"button",22),x("click",function(){return f(m),u(c.logout())}),a(31,"i",23),l(32,Q,2,0,"span",12),t()()(),e(33,"main",24)(34,"header",25)(35,"h1"),n(36,"Panel de Control"),t(),e(37,"div",26)(38,"button",27),a(39,"i",28),n(40," Nuevo Producto "),t()()(),l(41,X,39,1,"div",29)(42,Z,4,0,"ng-template",null,0,y),t()()}if(r&2){let m=O(43);b("sidebar-collapsed",c.sidebarCollapsed),i(5),h("aria-label",c.sidebarCollapsed?"Expandir men\xFA":"Contraer men\xFA"),i(),b("fa-bars",c.sidebarCollapsed)("fa-times",!c.sidebarCollapsed),i(),s("ngIf",c.productor),i(3),s("routerLinkActiveOptions",S(17,N)),i(2),s("ngIf",!c.sidebarCollapsed),i(4),s("ngIf",!c.sidebarCollapsed),i(4),s("ngIf",!c.sidebarCollapsed),i(4),s("ngIf",!c.sidebarCollapsed),i(4),s("ngIf",!c.sidebarCollapsed),i(4),s("ngIf",!c.sidebarCollapsed),i(9),s("ngIf",!c.loading)("ngIfElse",m)}},dependencies:[D,w,I,T,L,A],styles:['.dashboard[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f8fafc}.dashboard__sidebar[_ngcontent-%COMP%]{width:280px;background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;display:flex;flex-direction:column;position:fixed;height:100vh;z-index:998;transition:all .3s ease;box-shadow:2px 0 10px #0000001a}.sidebar-collapsed[_ngcontent-%COMP%]   .dashboard__sidebar[_ngcontent-%COMP%]{width:70px}.sidebar__header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__header[_ngcontent-%COMP%]{padding:20px 15px;justify-content:center}.sidebar__brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1);transition:all .3s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px}.sidebar__toggle[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:all .3s ease}.sidebar__toggle[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.sidebar__user[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;gap:15px}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__user[_ngcontent-%COMP%]{padding:20px 15px;justify-content:center}.user__avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid rgba(255,255,255,.2);object-fit:cover}.sidebar-collapsed[_ngcontent-%COMP%]   .user__avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.user__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 4px}.user__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin:0;opacity:.8}.sidebar__menu[_ngcontent-%COMP%]{flex:1;list-style:none;padding:20px 0;margin:0}.sidebar__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px 20px;color:#ffffffe6;text-decoration:none;transition:all .3s ease;position:relative}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:15px;justify-content:center}.sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.sidebar__menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#fff3;color:#fff}.sidebar__menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background-color:#fff}.sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;width:20px;text-align:center}.sidebar__menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.sidebar__footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid rgba(255,255,255,.1)}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar__footer[_ngcontent-%COMP%]{padding:20px 15px}.btn-logout[_ngcontent-%COMP%]{background:none;border:1px solid rgba(255,255,255,.3);color:#fff;width:100%;padding:12px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:10px;justify-content:center;transition:all .3s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:12px 8px}.btn-logout[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#ffffff80}.btn-logout[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.dashboard__main[_ngcontent-%COMP%]{flex:1;margin-left:280px;transition:all .3s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .dashboard__main[_ngcontent-%COMP%]{margin-left:70px}.main__header[_ngcontent-%COMP%]{background:#fff;padding:20px 30px;border-bottom:1px solid #e2e8f0;display:flex;align-items:center;justify-content:space-between;box-shadow:0 1px 3px #0000001a}.main__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1a202c;margin:0}.header__actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 20px;border-radius:8px;font-weight:600;text-decoration:none;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.header__actions[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none}.header__actions[_ngcontent-%COMP%]   .btn--primary[_ngcontent-%COMP%]:hover{background:#45a049;transform:translateY(-1px)}.header__actions[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]{background:transparent;color:#4caf50;border:2px solid #4caf50}.header__actions[_ngcontent-%COMP%]   .btn--outline[_ngcontent-%COMP%]:hover{background:#4caf50;color:#fff}.main__content[_ngcontent-%COMP%]{padding:30px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:40px}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;gap:20px;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #00000026}.stat-card__icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center}.stat-card__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.stat-card__icon[_ngcontent-%COMP%]   i.text-blue[_ngcontent-%COMP%]{color:#3b82f6;background-color:#eff6ff}.stat-card__icon[_ngcontent-%COMP%]   i.text-green[_ngcontent-%COMP%]{color:#10b981;background-color:#f0fdf4}.stat-card__icon[_ngcontent-%COMP%]   i.text-yellow[_ngcontent-%COMP%]{color:#f59e0b;background-color:#fffbeb}.stat-card__icon[_ngcontent-%COMP%]   i.text-orange[_ngcontent-%COMP%]{color:#f97316;background-color:#fff7ed}.stat-card__content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1a202c;margin:0 0 8px}.stat-card__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0;font-weight:500}.quick-actions[_ngcontent-%COMP%]{margin-bottom:40px}.quick-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1a202c;margin-bottom:20px}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.action-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 8px #0000001a;text-decoration:none;color:inherit;transition:all .3s ease;border:2px solid transparent}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #00000026;border-color:#4caf50;color:inherit;text-decoration:none}.action-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#4caf50;margin-bottom:15px}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a202c;margin-bottom:8px}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0;line-height:1.5}.recent-products[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1a202c;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.products-placeholder[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:12px;box-shadow:0 2px 8px #0000001a;text-align:center}.products-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e2e8f0;border-top:3px solid #4caf50;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.dashboard__sidebar[_ngcontent-%COMP%]{transform:translate(-100%)}.dashboard__sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.dashboard__main[_ngcontent-%COMP%]{margin-left:0}.stats-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.main__header[_ngcontent-%COMP%]{padding:15px 20px}.main__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.main__content[_ngcontent-%COMP%]{padding:20px}}']})};export{V as DashboardProductorComponent};
