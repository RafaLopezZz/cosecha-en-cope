import{a as K}from"./chunk-SFP4LTJZ.js";import{a as X}from"./chunk-T52YRAWS.js";import{b as z,c as _,d as D,e as R,g as j,h as q,i as B,j as G,k as $,l as L,m as J,n as W,q as Y,s as H}from"./chunk-7SKPC2TH.js";import{a as Q}from"./chunk-A7IG4BAE.js";import{B as c,E,I as m,L as s,M,N as a,O as o,P as p,Q as C,R as v,S as g,T as y,U as l,V as P,W as O,ba as S,da as A,ea as k,la as I,ma as U,pa as T,qa as N,r as h,t as x,u as b,va as F,xa as V,z as w}from"./chunk-PPRWOMJK.js";function ee(t,n){if(t&1){let e=C();a(0,"button",10),v("click",function(){x(e);let i=g();return b(i.showNewForm())}),p(1,"i",11),l(2," Nuevo Producto "),o()}}function te(t,n){t&1&&(a(0,"div",49),p(1,"div",50),a(2,"p"),l(3,"Subiendo a AWS S3..."),o()())}function ne(t,n){t&1&&(a(0,"span"),l(1,"El nombre es obligatorio"),o())}function oe(t,n){t&1&&(a(0,"span"),l(1,"El nombre debe tener al menos 2 caracteres"),o())}function re(t,n){if(t&1&&(a(0,"div",51),m(1,ne,2,0,"span",52)(2,oe,2,0,"span",52),o()),t&2){let e,r,i=g(2);c(),s("ngIf",(e=i.form.get("nombre"))==null||e.errors==null?null:e.errors.required),c(),s("ngIf",(r=i.form.get("nombre"))==null||r.errors==null?null:r.errors.minlength)}}function ie(t,n){t&1&&(a(0,"span"),l(1,"La descripci\xF3n es obligatoria"),o())}function ae(t,n){t&1&&(a(0,"span"),l(1,"La descripci\xF3n debe tener al menos 10 caracteres"),o())}function ce(t,n){if(t&1&&(a(0,"div",51),m(1,ie,2,0,"span",52)(2,ae,2,0,"span",52),o()),t&2){let e,r,i=g(2);c(),s("ngIf",(e=i.form.get("descripcion"))==null||e.errors==null?null:e.errors.required),c(),s("ngIf",(r=i.form.get("descripcion"))==null||r.errors==null?null:r.errors.minlength)}}function le(t,n){t&1&&(a(0,"span"),l(1,"El precio es obligatorio"),o())}function se(t,n){t&1&&(a(0,"span"),l(1,"El precio debe ser mayor que 0"),o())}function de(t,n){if(t&1&&(a(0,"div",51),m(1,le,2,0,"span",52)(2,se,2,0,"span",52),o()),t&2){let e,r,i=g(2);c(),s("ngIf",(e=i.form.get("precio"))==null||e.errors==null?null:e.errors.required),c(),s("ngIf",(r=i.form.get("precio"))==null||r.errors==null?null:r.errors.min)}}function ue(t,n){t&1&&(a(0,"span"),l(1,"El stock es obligatorio"),o())}function pe(t,n){t&1&&(a(0,"span"),l(1,"El stock no puede ser negativo"),o())}function me(t,n){if(t&1&&(a(0,"div",51),m(1,ue,2,0,"span",52)(2,pe,2,0,"span",52),o()),t&2){let e,r,i=g(2);c(),s("ngIf",(e=i.form.get("stock"))==null||e.errors==null?null:e.errors.required),c(),s("ngIf",(r=i.form.get("stock"))==null||r.errors==null?null:r.errors.min)}}function ge(t,n){if(t&1&&(a(0,"option",53),l(1),o()),t&2){let e=n.$implicit;s("value",e.idCategoria),c(),O(" ",e.nombre," ")}}function fe(t,n){t&1&&(a(0,"span"),l(1," Selecciona una categor\xEDa "),o())}function _e(t,n){if(t&1&&(a(0,"div",51),m(1,fe,2,0,"span",52),o()),t&2){let e,r=g(2);c(),s("ngIf",((e=r.form.get("idCategoria"))==null||e.errors==null?null:e.errors.required)||((e=r.form.get("idCategoria"))==null||e.errors==null?null:e.errors.min))}}function xe(t,n){t&1&&p(0,"i",54)}function be(t,n){t&1&&p(0,"div",55)}function ve(t,n){if(t&1){let e=C();a(0,"div",12)(1,"div",13)(2,"div",14)(3,"h2"),l(4),o(),a(5,"button",15),v("click",function(){x(e);let i=g();return b(i.cancelForm())}),p(6,"i",16),o()(),a(7,"form",17),v("ngSubmit",function(){x(e);let i=g();return b(i.onSubmit())}),a(8,"div",18)(9,"h3"),l(10,"Imagen del Producto"),o(),a(11,"div",19)(12,"div",20),p(13,"img",21),m(14,te,4,0,"div",22),o(),a(15,"div",23)(16,"input",24),v("change",function(i){x(e);let u=g();return b(u.onFileSelected(i))}),o(),a(17,"label",25),p(18,"i",26),l(19),o(),a(20,"p",27),l(21," JPG, PNG, GIF, WEBP. M\xE1ximo 10MB. "),p(22,"br"),l(23,"Se subir\xE1 autom\xE1ticamente a AWS S3. "),o()()()(),a(24,"div",18)(25,"h3"),l(26,"Informaci\xF3n del Producto"),o(),a(27,"div",28)(28,"div",29)(29,"label",30),l(30,"Nombre del Producto *"),o(),p(31,"input",31),m(32,re,3,2,"div",32),o()(),a(33,"div",28)(34,"div",29)(35,"label",33),l(36,"Descripci\xF3n *"),o(),p(37,"textarea",34),m(38,ce,3,2,"div",32),o()(),a(39,"div",35)(40,"div",29)(41,"label",36),l(42,"Precio (\u20AC) *"),o(),p(43,"input",37),m(44,de,3,2,"div",32),o(),a(45,"div",29)(46,"label",38),l(47,"Stock Disponible *"),o(),p(48,"input",39),m(49,me,3,2,"div",32),o()(),a(50,"div",28)(51,"div",29)(52,"label",40),l(53,"Categor\xEDa *"),o(),a(54,"select",41)(55,"option",42),l(56,"Selecciona una categor\xEDa"),o(),m(57,ge,2,2,"option",43),o(),m(58,_e,2,1,"div",32),o()()(),a(59,"div",44)(60,"button",45),v("click",function(){x(e);let i=g();return b(i.cancelForm())}),l(61," Cancelar "),o(),a(62,"button",46),m(63,xe,1,0,"i",47)(64,be,1,0,"div",48),l(65),o()()()()()}if(t&2){let e,r,i,u,f,d=g();c(4),P(d.editingArticulo?"Editar Producto":"Nuevo Producto"),c(3),s("formGroup",d.form),c(6),s("src",d.imagePreview||"assets/images/default-product.png",w),c(),s("ngIf",d.uploading),c(2),s("disabled",d.uploading),c(),M("disabled",d.uploading),c(2),O(" ",d.uploading?"Subiendo...":"Seleccionar Imagen"," "),c(13),s("ngIf",((e=d.form.get("nombre"))==null?null:e.touched)&&((e=d.form.get("nombre"))==null?null:e.errors)),c(6),s("ngIf",((r=d.form.get("descripcion"))==null?null:r.touched)&&((r=d.form.get("descripcion"))==null?null:r.errors)),c(6),s("ngIf",((i=d.form.get("precio"))==null?null:i.touched)&&((i=d.form.get("precio"))==null?null:i.errors)),c(5),s("ngIf",((u=d.form.get("stock"))==null?null:u.touched)&&((u=d.form.get("stock"))==null?null:u.errors)),c(8),s("ngForOf",d.categorias),c(),s("ngIf",((f=d.form.get("idCategoria"))==null?null:f.touched)&&((f=d.form.get("idCategoria"))==null?null:f.errors)),c(4),s("disabled",d.form.invalid||d.saving||d.uploading),c(),s("ngIf",!d.saving),c(),s("ngIf",d.saving),c(),O(" ",d.saving?"Guardando...":d.editingArticulo?"Actualizar":"Crear Producto"," ")}}function he(t,n){if(t&1){let e=C();a(0,"div",60)(1,"div",61),p(2,"img",62),a(3,"div",63),l(4),o()(),a(5,"div",64)(6,"div",65)(7,"h3"),l(8),o(),a(9,"div",66),l(10),S(11,"currency"),o()(),a(12,"p",67),l(13),o(),a(14,"div",68)(15,"span",69),l(16),o(),a(17,"span",70),p(18,"i",71),l(19),o()()(),a(20,"div",72)(21,"button",73),v("click",function(){let i=x(e).$implicit,u=g(3);return b(u.editArticulo(i))}),p(22,"i",74),o(),a(23,"button",75),v("click",function(){let i=x(e).$implicit,u=g(3);return b(u.deleteArticulo(i))}),p(24,"i",76),o()()()}if(t&2){let e=n.$implicit;c(2),s("src",e.imagenUrl||"/images/default-product.png",w)("alt",e.nombre),c(),M("low-stock",e.stock<10)("out-of-stock",e.stock===0),c(),O(" Stock: ",e.stock," "),c(4),P(e.nombre),c(2),P(A(11,16,e.precio,"EUR","symbol","1.2-2")),c(3),P(e.descripcion),c(3),P(e.nombreCategoria),c(),M("warning",e.stock<10)("danger",e.stock===0),c(2),O(" ",e.stock," unidades ")}}function Ce(t,n){if(t&1&&(a(0,"div",58),m(1,he,25,21,"div",59),o()),t&2){let e=g(2);c(),s("ngForOf",e.articulos)}}function Pe(t,n){if(t&1){let e=C();a(0,"div",77)(1,"div",78),p(2,"i",79),o(),a(3,"h3"),l(4,"No tienes productos"),o(),a(5,"p"),l(6,"Empieza a\xF1adiendo tu primer producto al cat\xE1logo."),o(),a(7,"button",10),v("click",function(){x(e);let i=g(2);return b(i.showNewForm())}),p(8,"i",11),l(9," Crear Primer Producto "),o()()}}function Oe(t,n){if(t&1&&(a(0,"div",56),m(1,Ce,2,1,"div",57)(2,Pe,10,0,"ng-template",null,1,k),o()),t&2){let e=y(3),r=g();c(),s("ngIf",r.articulos.length>0)("ngIfElse",e)}}function Me(t,n){t&1&&(a(0,"div",80),p(1,"div",50),a(2,"p"),l(3,"Cargando productos..."),o()())}var Z=class t{fb=h(Y);userStore=h(K);productorService=h(Q);imagenService=h(X);router=h(V);route=h(F);productor=null;articulos=[];categorias=[];loading=!0;showForm=!1;editingArticulo=null;saving=!1;uploading=!1;imagePreview=null;currentUser=this.userStore.snapshot();form=this.fb.nonNullable.group({nombre:["",[_.required,_.minLength(2)]],descripcion:["",[_.required,_.minLength(10)]],precio:[0,[_.required,_.min(.01)]],stock:[0,[_.required,_.min(0)]],idCategoria:[0,[_.required,_.min(1)]],imagenUrl:[""]});clearAuthSession(){sessionStorage.removeItem("authToken"),this.userStore.clear(),this.router.navigateByUrl("/login/productores")}ngOnInit(){if(this.currentUser=this.userStore.snapshot(),!this.currentUser){let e=sessionStorage.getItem("authToken");if(!e){console.error("No user found and no token in sessionStorage"),this.router.navigateByUrl("/login/productores");return}try{let r=JSON.parse(atob(e.split(".")[1]));console.log("Token payload:",r),alert("Error: Sesi\xF3n inconsistente. Por favor, inicie sesi\xF3n nuevamente."),this.router.navigateByUrl("/login/productores");return}catch(r){console.error("Error decoding token:",r),this.router.navigateByUrl("/login/productores");return}}if(this.currentUser.tipoUsuario!=="PRODUCTOR"){console.error("User is not a producer:",this.currentUser),this.router.navigateByUrl("/login/productores");return}console.log("Current user validated:",this.currentUser),console.log("User properties:",Object.keys(this.currentUser)),console.log("User ID field value:",this.currentUser.idUsuario),this.route.snapshot.url.some(e=>e.path==="nuevo")&&(this.showForm=!0),this.loadData()}loadData(){if(this.currentUser=this.userStore.snapshot(),!this.currentUser){console.error("No current user found in store"),alert("Error: No se ha iniciado sesi\xF3n correctamente"),this.router.navigateByUrl("/login/productores");return}if(!this.currentUser.idUsuario){console.error("Current user has no ID:",this.currentUser),alert("Error: El usuario no tiene un ID v\xE1lido"),this.router.navigateByUrl("/login/productores");return}console.log("Loading data for user:",this.currentUser);let n=sessionStorage.getItem("authToken");if(console.log("Token in sessionStorage:",n?n.substring(0,50)+"...":"null"),!n){console.error("No token found in sessionStorage"),alert("Error: No se encontr\xF3 token de autenticaci\xF3n. Por favor, inicie sesi\xF3n nuevamente."),this.router.navigateByUrl("/login/productores");return}try{let e=JSON.parse(atob(n.split(".")[1])),r=Math.floor(Date.now()/1e3);if(console.log("Token payload:",e),console.log("Token exp:",e.exp,"Current time:",r),e.exp&&e.exp<r){console.error("Token has expired"),alert("Su sesi\xF3n ha expirado. Por favor, inicie sesi\xF3n nuevamente."),console.warn("\u{1F6A8} Token expired - but NOT clearing session for debugging");return}}catch(e){console.error("Error decoding token:",e),alert("Token inv\xE1lido. Por favor, inicie sesi\xF3n nuevamente."),console.warn("\u{1F6A8} Invalid token - but NOT clearing session for debugging");return}console.log("Attempting to load productor for user ID:",this.currentUser.idUsuario),this.productorService.getProductorPorUsuario(this.currentUser.idUsuario).subscribe({next:e=>{console.log("Productor loaded:",e),this.productor=e,this.loadArticulos()},error:e=>{console.error("Error loading productor:",e),console.log("Error details:",{status:e.status,statusText:e.statusText,message:e.message,url:e.url}),this.loading=!1;let r="Error al cargar la informaci\xF3n del productor. ";e.status===401?(r+="Su sesi\xF3n ha expirado o no tiene permisos. Por favor, inicie sesi\xF3n nuevamente.",console.warn("\u{1F6A8} 401 error detected - but NOT clearing session for debugging")):e.status===404?r+="No se encontr\xF3 informaci\xF3n de productor para este usuario.":e.status===0?r+="No se pudo conectar con el servidor. Verifique su conexi\xF3n a internet.":r+=`Error del servidor (${e.status}). Int\xE9ntelo de nuevo m\xE1s tarde.`,alert(r)}}),this.productorService.getCategorias().subscribe({next:e=>{console.log("Categorias loaded:",e),this.categorias=e},error:e=>{console.error("Error loading categorias:",e),alert("Error al cargar las categor\xEDas")}})}loadArticulos(){this.productor&&this.productorService.getArticulosProductor(this.productor.idProductor).subscribe({next:n=>{this.articulos=n,this.loading=!1},error:()=>{this.loading=!1}})}showNewForm(){this.editingArticulo=null,this.form.reset({nombre:"",descripcion:"",precio:0,stock:0,idCategoria:0,imagenUrl:""}),Object.keys(this.form.controls).forEach(n=>{this.form.get(n)?.markAsUntouched(),this.form.get(n)?.markAsPristine()}),this.imagePreview=null,this.showForm=!0,console.log("New form initialized:",this.form.value)}editArticulo(n){this.editingArticulo=n,this.form.patchValue({nombre:n.nombre,descripcion:n.descripcion,precio:n.precio,stock:n.stock,idCategoria:n.idCategoria||0,imagenUrl:n.imagenUrl}),this.imagePreview=n.imagenUrl,this.showForm=!0}cancelForm(){this.showForm=!1,this.editingArticulo=null,this.form.reset(),this.imagePreview=null,this.route.snapshot.url.some(n=>n.path==="nuevo")&&this.router.navigateByUrl("/productor/articulos")}onFileSelected(n){let r=n.target.files?.[0];if(!r)return;let i=this.imagenService.validarImagen(r);if(i.length>0){alert(i.join(`
`));return}let u=new FileReader;if(u.onload=f=>{this.imagePreview=f.target?.result},u.readAsDataURL(r),!this.currentUser||!this.currentUser.idUsuario){alert("Error: No se ha iniciado sesi\xF3n correctamente");return}this.uploading=!0,this.imagenService.subirImagenArticulo(r,this.currentUser.idUsuario,this.currentUser.tipoUsuario).subscribe({next:f=>{f.success?(this.form.patchValue({imagenUrl:f.imageUrl}),console.log("Imagen subida exitosamente:",f.imageUrl)):(alert(f.message||"Error al subir la imagen"),this.imagePreview=this.form.value.imagenUrl||null),this.uploading=!1},error:f=>{console.error("Error uploading image:",f),alert(f.error?.message||"Error al subir la imagen. Int\xE9ntalo de nuevo."),this.uploading=!1,this.imagePreview=this.form.value.imagenUrl||null}})}onSubmit(){if(!this.productor){console.error("No se encontr\xF3 informaci\xF3n del productor"),alert("Error: No se encontr\xF3 informaci\xF3n del productor");return}if(this.form.invalid){console.error("Form is invalid:",{formErrors:this.form.errors,formValue:this.form.value,controls:Object.keys(this.form.controls).map(i=>({key:i,errors:this.form.get(i)?.errors,value:this.form.get(i)?.value}))}),Object.keys(this.form.controls).forEach(i=>{this.form.get(i)?.markAsTouched()}),alert("Por favor, completa todos los campos obligatorios correctamente");return}this.saving=!0;let n=this.form.getRawValue(),e={nombre:n.nombre.trim(),descripcion:n.descripcion.trim(),precio:Number(n.precio),stock:Number(n.stock),idCategoria:Number(n.idCategoria),idProductor:this.productor.idProductor,imagenUrl:n.imagenUrl||""};console.log("Sending request to create/update articulo:",e),(this.editingArticulo?this.productorService.updateArticulo(this.productor.idProductor,this.editingArticulo.idArticulo,e):this.productorService.createArticulo(this.productor.idProductor,e)).subscribe({next:i=>{console.log("Articulo saved successfully:",i),this.loadArticulos(),this.cancelForm(),this.saving=!1,alert(this.editingArticulo?"Producto actualizado correctamente":"Producto creado correctamente")},error:i=>{console.error("Error saving articulo:",i);let u="Error al guardar el producto. ";i.status===400?u+="Verifique que todos los campos est\xE9n completos y sean v\xE1lidos.":i.status===401?u+="No tiene permisos para realizar esta operaci\xF3n.":i.status===404?u+="No se encontr\xF3 el recurso solicitado.":i.status===500?u+="Error interno del servidor.":i.error?.message?u+=i.error.message:u+="Int\xE9ntalo de nuevo.",alert(u),this.saving=!1}})}deleteArticulo(n){if(confirm(`\xBFEst\xE1s seguro de que quieres eliminar el producto "${n.nombre}"?`)){if(!this.productor){alert("Error: No se encontr\xF3 informaci\xF3n del productor");return}this.productorService.deleteArticulo(this.productor.idProductor,n.idArticulo).subscribe({next:()=>{this.loadArticulos(),alert("Producto eliminado correctamente")},error:e=>{console.error("Error deleting articulo:",e),alert("Error al eliminar el producto. Int\xE9ntalo de nuevo.")}})}}goBack(){this.router.navigateByUrl("/productor/dashboard")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=E({type:t,selectors:[["app-articulos-productor"]],decls:13,vars:4,consts:[["loadingTemplate",""],["noArticulos",""],[1,"articulos-container"],[1,"articulos-header"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[1,"header-content"],["class","btn btn--primary",3,"click",4,"ngIf"],["class","form-container",4,"ngIf"],["class","articulos-content",4,"ngIf","ngIfElse"],[1,"btn","btn--primary",3,"click"],[1,"fas","fa-plus"],[1,"form-container"],[1,"form-card"],[1,"form-header"],[1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"articulo-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"image-upload-container"],[1,"image-preview"],["alt","Vista previa",1,"preview-image",3,"src"],["class","upload-overlay",4,"ngIf"],[1,"upload-controls"],["type","file","id","productImageInput","accept","image/jpeg,image/jpg,image/png,image/gif,image/webp",1,"file-input",3,"change","disabled"],["for","productImageInput",1,"btn","btn--outline"],[1,"fas","fa-cloud-upload-alt"],[1,"upload-hint"],[1,"form-row"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","placeholder","Ej: Tomates Cherry Ecol\xF3gicos",1,"form-control"],["class","field-error",4,"ngIf"],["for","descripcion"],["id","descripcion","formControlName","descripcion","rows","4","placeholder","Describe tu producto: caracter\xEDsticas, origen, m\xE9todo de cultivo...",1,"form-control"],[1,"form-row","form-row--split"],["for","precio"],["type","number","id","precio","formControlName","precio","step","0.01","min","0","placeholder","0.00",1,"form-control"],["for","stock"],["type","number","id","stock","formControlName","stock","min","0","placeholder","0",1,"form-control"],["for","idCategoria"],["id","idCategoria","formControlName","idCategoria",1,"form-control"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"form-actions"],["type","button",1,"btn","btn--outline",3,"click"],["type","submit",1,"btn","btn--primary",3,"disabled"],["class","fas fa-save",4,"ngIf"],["class","button-spinner",4,"ngIf"],[1,"upload-overlay"],[1,"spinner"],[1,"field-error"],[4,"ngIf"],[3,"value"],[1,"fas","fa-save"],[1,"button-spinner"],[1,"articulos-content"],["class","articulos-grid",4,"ngIf","ngIfElse"],[1,"articulos-grid"],["class","articulo-card",4,"ngFor","ngForOf"],[1,"articulo-card"],[1,"articulo-image"],[3,"src","alt"],[1,"stock-badge"],[1,"articulo-content"],[1,"articulo-header"],[1,"precio"],[1,"descripcion"],[1,"articulo-meta"],[1,"categoria"],[1,"stock-info"],[1,"fas","fa-boxes"],[1,"articulo-actions"],["title","Editar producto",1,"btn-action","btn-action--edit",3,"click"],[1,"fas","fa-edit"],["title","Eliminar producto",1,"btn-action","btn-action--delete",3,"click"],[1,"fas","fa-trash"],[1,"empty-state"],[1,"empty-icon"],[1,"fas","fa-box"],[1,"loading-container"]],template:function(e,r){if(e&1){let i=C();a(0,"div",2)(1,"div",3)(2,"button",4),v("click",function(){return x(i),b(r.goBack())}),p(3,"i",5),l(4," Volver al Dashboard "),o(),a(5,"div",6)(6,"h1"),l(7,"Mis Productos"),o(),m(8,ee,3,0,"button",7),o()(),m(9,ve,66,18,"div",8)(10,Oe,4,2,"div",9)(11,Me,4,0,"ng-template",null,0,k),o()}if(e&2){let i=y(12);c(8),s("ngIf",!r.showForm),c(),s("ngIf",r.showForm),c(),s("ngIf",!r.loading)("ngIfElse",i)}},dependencies:[N,I,U,T,H,j,L,J,z,q,$,D,R,W,B,G],styles:[".articulos-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8fafc;padding:20px}.articulos-header[_ngcontent-%COMP%]{margin-bottom:30px}.articulos-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;margin-bottom:15px;padding:8px 0;transition:color .3s ease}.articulos-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{color:#4caf50}.articulos-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.articulos-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px}.articulos-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1a202c;margin:0}.form-container[_ngcontent-%COMP%]{margin-bottom:30px}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.form-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:25px 30px;border-bottom:1px solid #e2e8f0}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1a202c;margin:0}.form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;font-size:18px;cursor:pointer;padding:8px;border-radius:50%;transition:all .3s ease}.form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;color:#ef4444}.articulo-form[_ngcontent-%COMP%]{padding:30px}.form-section[_ngcontent-%COMP%]{margin-bottom:30px}.form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a202c;margin:0 0 20px;padding-bottom:8px;border-bottom:2px solid #4caf50;display:inline-block}.image-upload-container[_ngcontent-%COMP%]{display:flex;gap:30px;align-items:flex-start}@media (max-width: 768px){.image-upload-container[_ngcontent-%COMP%]{flex-direction:column;gap:20px}}.image-preview[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;border-radius:12px;overflow:hidden;border:3px solid #e2e8f0;background-color:#f8fafc}.image-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-preview[_ngcontent-%COMP%]   .upload-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#000000b3;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff}.image-preview[_ngcontent-%COMP%]   .upload-overlay[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:8px}.image-preview[_ngcontent-%COMP%]   .upload-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:0}.upload-controls[_ngcontent-%COMP%]{flex:1}.upload-controls[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{display:none}.upload-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;cursor:pointer;margin-bottom:10px;transition:opacity .3s ease}.upload-controls[_ngcontent-%COMP%]   label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.upload-controls[_ngcontent-%COMP%]   .upload-hint[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0}.form-row[_ngcontent-%COMP%]{margin-bottom:20px}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-row--split[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 768px){.form-row--split[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:600;color:#374151;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:8px;font-size:16px;transition:all .3s ease;background-color:#fff}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50;box-shadow:0 0 0 3px #4caf501a}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px;font-family:inherit}.form-group[_ngcontent-%COMP%]   select.form-control[_ngcontent-%COMP%]{cursor:pointer}.form-group[_ngcontent-%COMP%]   input[type=number].form-control[_ngcontent-%COMP%]{-moz-appearance:textfield}.form-group[_ngcontent-%COMP%]   input[type=number].form-control[_ngcontent-%COMP%]::-webkit-outer-spin-button, .form-group[_ngcontent-%COMP%]   input[type=number].form-control[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.field-error[_ngcontent-%COMP%]{margin-top:8px;font-size:14px;color:#ef4444;font-weight:500}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e2e8f0;margin-top:30px}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column}}.btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;font-weight:600;text-decoration:none;display:inline-flex;align-items:center;gap:8px;border:none;cursor:pointer;transition:all .3s ease;justify-content:center;min-width:120px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn--primary[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.btn--primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#45a049;transform:translateY(-1px)}.btn--outline[_ngcontent-%COMP%]{background:transparent;color:#4caf50;border:2px solid #4caf50}.btn--outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#4caf50;color:#fff}.button-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.articulos-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.articulos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:24px}.articulo-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden;transition:all .3s ease;position:relative}.articulo-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.articulo-image[_ngcontent-%COMP%]{height:220px;overflow:hidden;position:relative}.articulo-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.articulo-card[_ngcontent-%COMP%]:hover   .articulo-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.stock-badge[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;background:#4caf50e6;color:#fff;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:600;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.stock-badge.low-stock[_ngcontent-%COMP%]{background:#f59e0be6}.stock-badge.out-of-stock[_ngcontent-%COMP%]{background:#ef4444e6}.articulo-content[_ngcontent-%COMP%]{padding:20px}.articulo-content[_ngcontent-%COMP%]   .articulo-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:12px;gap:12px}.articulo-content[_ngcontent-%COMP%]   .articulo-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a202c;margin:0;flex:1;line-height:1.3}.articulo-content[_ngcontent-%COMP%]   .articulo-header[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#4caf50;white-space:nowrap}.articulo-content[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{color:#64748b;margin:0 0 16px;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.articulo-content[_ngcontent-%COMP%]   .articulo-meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.articulo-content[_ngcontent-%COMP%]   .articulo-meta[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500}.articulo-content[_ngcontent-%COMP%]   .articulo-meta[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:14px;color:#64748b}.articulo-content[_ngcontent-%COMP%]   .articulo-meta[_ngcontent-%COMP%]   .stock-info.warning[_ngcontent-%COMP%]{color:#f59e0b}.articulo-content[_ngcontent-%COMP%]   .articulo-meta[_ngcontent-%COMP%]   .stock-info.danger[_ngcontent-%COMP%]{color:#ef4444}.articulo-content[_ngcontent-%COMP%]   .articulo-meta[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.articulo-actions[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;display:flex;gap:6px;opacity:0;transition:opacity .3s ease}.articulo-card[_ngcontent-%COMP%]:hover   .articulo-actions[_ngcontent-%COMP%]{opacity:1}.btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.btn-action--edit[_ngcontent-%COMP%]{background:#3b82f6e6;color:#fff}.btn-action--edit[_ngcontent-%COMP%]:hover{background:#3b82f6;transform:scale(1.1)}.btn-action--delete[_ngcontent-%COMP%]{background:#ef4444e6;color:#fff}.btn-action--delete[_ngcontent-%COMP%]:hover{background:#ef4444;transform:scale(1.1)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;background:#f8fafc;border-radius:50%;display:flex;align-items:center;justify-content:center}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#64748b}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1a202c;margin:0 0 10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 30px;font-size:16px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e2e8f0;border-top:3px solid #4caf50;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.articulos-container[_ngcontent-%COMP%]{padding:15px}.articulos-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.articulos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.articulo-form[_ngcontent-%COMP%]{padding:20px}.articulos-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.articulo-actions[_ngcontent-%COMP%]{opacity:1}}"]})};export{Z as ArticulosProductorComponent};
