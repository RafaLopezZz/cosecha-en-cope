import{Ca as o,o as n,r as s,sa as p}from"./chunk-PPRWOMJK.js";var m=class a{http=s(p);subirImagenArticulo(r,e,i){let t=new FormData;return t.append("file",r),t.append("idUsuario",e.toString()),t.append("tipoUsuario",i),this.http.post(o.IMAGENES.UPLOAD_ARTICULO,t)}subirImagenCategoria(r,e,i){let t=new FormData;return t.append("file",r),t.append("idUsuario",e.toString()),t.append("tipoUsuario",i),this.http.post(o.IMAGENES.UPLOAD_CATEGORIA,t)}eliminarImagen(r){return this.http.delete(`${o.IMAGENES.DELETE}?imageUrl=${encodeURIComponent(r)}`)}validarImagen(r){let e=[];if(!r)return e.push("Debe seleccionar un archivo"),e;["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type)||e.push("Solo se permiten archivos JPG, JPEG, PNG, GIF y WEBP");let t=10*1024*1024;return r.size>t&&e.push("El archivo no puede exceder 10MB"),r.size===0&&e.push("El archivo est\xE1 vac\xEDo"),e}formatearTamanoArchivo(r){if(r===0)return"0 Bytes";let e=1024,i=["Bytes","KB","MB","GB"],t=Math.floor(Math.log(r)/Math.log(e));return parseFloat((r/Math.pow(e,t)).toFixed(2))+" "+i[t]}verificarImagenValida(r){return new Promise(e=>{let i=new Image;i.onload=()=>e(!0),i.onerror=()=>e(!1),i.src=r})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=n({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a};
