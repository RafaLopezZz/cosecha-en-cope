<!DOCTYPE html>
<html lang="es" 
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: html}">
<head>
    <th:block th:fragment="additional-head">
        <!-- Additional meta tags for contact page -->
        <meta name="geo.region" content="ES-AN">
        <meta name="geo.placename" content="Cabo Cope, Murcia">
        <meta name="ICBM" content="37.4419, -1.1177">
    </th:block>
</head>

<body>
    <main th:fragment="content">
        
        <!-- Hero Section -->
        <section class="contact-hero bg-light py-5">
            <div class="container">
                <div class="row text-center">
                    <div class="col-lg-8 mx-auto">
                        <h1 class="display-4 fw-bold text-dark mb-4">
                            Contacto
                        </h1>
                        <p class="lead text-muted">
                            ¿Tienes preguntas sobre nuestros productos o servicios? 
                            Estamos aquí para ayudarte. Contáctanos y te responderemos lo antes posible.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Information & Form Section -->
        <section class="contact-main py-5">
            <div class="container">
                <div class="row g-5">
                    
                    <!-- Contact Information -->
                    <div class="col-lg-5">
                        <div class="contact-info">
                            <h2 class="h3 fw-bold text-dark mb-4">
                                Información de Contacto
                            </h2>
                            <p class="text-muted mb-4">
                                Puedes contactarnos a través de cualquiera de estos medios. 
                                Nuestro equipo estará encantado de atenderte.
                            </p>
                            
                            <!-- Contact Cards -->
                            <div class="contact-cards">
                                
                                <!-- Address -->
                                <div class="contact-card d-flex align-items-start mb-4 p-3 bg-light rounded-3">
                                    <div class="contact-icon me-3">
                                        <i class="fas fa-map-marker-alt text-primary fs-4"></i>
                                    </div>
                                    <div>
                                        <h5 class="fw-bold mb-1">Dirección</h5>
                                        <p class="text-muted mb-0">
                                            Calle Tal 69<br>
                                            Cabo Cope, Murcia<br>
                                            España
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Phone -->
                                <div class="contact-card d-flex align-items-start mb-4 p-3 bg-light rounded-3">
                                    <div class="contact-icon me-3">
                                        <i class="fas fa-phone text-primary fs-4"></i>
                                    </div>
                                    <div>
                                        <h5 class="fw-bold mb-1">Teléfono</h5>
                                        <a href="tel:+5491112345678" class="text-muted text-decoration-none">
                                            +54 9 11 1234 5678
                                        </a>
                                    </div>
                                </div>
                                
                                <!-- Email -->
                                <div class="contact-card d-flex align-items-start mb-4 p-3 bg-light rounded-3">
                                    <div class="contact-icon me-3">
                                        <i class="fas fa-envelope text-primary fs-4"></i>
                                    </div>
                                    <div>
                                        <h5 class="fw-bold mb-1">Email</h5>
                                        <a href="mailto:contacto@cosechaencope.com" class="text-muted text-decoration-none">
                                            contacto@cosechaencope.com
                                        </a>
                                    </div>
                                </div>
                                
                                <!-- Business Hours -->
                                <div class="contact-card d-flex align-items-start mb-4 p-3 bg-light rounded-3">
                                    <div class="contact-icon me-3">
                                        <i class="fas fa-clock text-primary fs-4"></i>
                                    </div>
                                    <div>
                                        <h5 class="fw-bold mb-1">Horario de Atención</h5>
                                        <p class="text-muted mb-0">
                                            Lunes a Viernes: 9:00 - 18:00<br>
                                            Sábados: 10:00 - 14:00<br>
                                            Domingos: Cerrado
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Social Media -->
                            <div class="social-media mt-4">
                                <h5 class="fw-bold mb-3">Síguenos en Redes Sociales</h5>
                                <div class="d-flex gap-3">
                                    <a 
                                        href="https://facebook.com/cosechaencope" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        class="btn btn-outline-primary rounded-circle p-3"
                                        aria-label="Facebook"
                                    >
                                        <i class="fab fa-facebook"></i>
                                    </a>
                                    <a 
                                        href="https://instagram.com/cosechaencope" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        class="btn btn-outline-primary rounded-circle p-3"
                                        aria-label="Instagram"
                                    >
                                        <i class="fab fa-instagram"></i>
                                    </a>
                                    <a 
                                        href="https://linkedin.com/company/cosechaencope" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        class="btn btn-outline-primary rounded-circle p-3"
                                        aria-label="LinkedIn"
                                    >
                                        <i class="fab fa-linkedin"></i>
                                    </a>
                                    <a 
                                        href="https://x.com/cosechaencope" 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        class="btn btn-outline-primary rounded-circle p-3"
                                        aria-label="X (Twitter)"
                                    >
                                        <i class="fab fa-x-twitter"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Contact Form -->
                    <div class="col-lg-7">
                        <div class="contact-form">
                            <h2 class="h3 fw-bold text-dark mb-4">
                                Envíanos un Mensaje
                            </h2>
                            <p class="text-muted mb-4">
                                Completa el formulario y nos pondremos en contacto contigo 
                                en un plazo máximo de 24 horas.
                            </p>
                            
                            <form id="contactForm" class="needs-validation" novalidate>
                                <div class="row g-3">
                                    
                                    <!-- Name -->
                                    <div class="col-md-6">
                                        <label for="name" class="form-label fw-semibold">
                                            Nombre completo *
                                        </label>
                                        <input 
                                            type="text" 
                                            class="form-control form-control-lg" 
                                            id="name" 
                                            name="name"
                                            required
                                            placeholder="Tu nombre completo"
                                        >
                                        <div class="invalid-feedback">
                                            Por favor, introduce tu nombre.
                                        </div>
                                    </div>
                                    
                                    <!-- Email -->
                                    <div class="col-md-6">
                                        <label for="email" class="form-label fw-semibold">
                                            Email *
                                        </label>
                                        <input 
                                            type="email" 
                                            class="form-control form-control-lg" 
                                            id="email" 
                                            name="email"
                                            required
                                            placeholder="tu@email.com"
                                        >
                                        <div class="invalid-feedback">
                                            Por favor, introduce un email válido.
                                        </div>
                                    </div>
                                    
                                    <!-- Phone -->
                                    <div class="col-md-6">
                                        <label for="phone" class="form-label fw-semibold">
                                            Teléfono
                                        </label>
                                        <input 
                                            type="tel" 
                                            class="form-control form-control-lg" 
                                            id="phone" 
                                            name="phone"
                                            placeholder="+34 123 456 789"
                                        >
                                    </div>
                                    
                                    <!-- Subject -->
                                    <div class="col-md-6">
                                        <label for="subject" class="form-label fw-semibold">
                                            Asunto *
                                        </label>
                                        <select class="form-select form-select-lg" id="subject" name="subject" required>
                                            <option value="">Selecciona un asunto</option>
                                            <option value="info-general">Información general</option>
                                            <option value="problemas-pedido">Problemas con un pedido</option>
                                            <option value="ser-productor">Quiero ser productor</option>
                                            <option value="sugerencias">Sugerencias</option>
                                            <option value="soporte-tecnico">Soporte técnico</option>
                                            <option value="otro">Otro</option>
                                        </select>
                                        <div class="invalid-feedback">
                                            Por favor, selecciona un asunto.
                                        </div>
                                    </div>
                                    
                                    <!-- Message -->
                                    <div class="col-12">
                                        <label for="message" class="form-label fw-semibold">
                                            Mensaje *
                                        </label>
                                        <textarea 
                                            class="form-control form-control-lg" 
                                            id="message" 
                                            name="message"
                                            rows="5" 
                                            required
                                            placeholder="Escribe tu mensaje aquí..."
                                        ></textarea>
                                        <div class="invalid-feedback">
                                            Por favor, escribe tu mensaje.
                                        </div>
                                    </div>
                                    
                                    <!-- Privacy Policy -->
                                    <div class="col-12">
                                        <div class="form-check">
                                            <input 
                                                class="form-check-input" 
                                                type="checkbox" 
                                                id="privacy" 
                                                name="privacy"
                                                required
                                            >
                                            <label class="form-check-label text-muted small" for="privacy">
                                                Acepto la 
                                                <a href="/privacidad" class="text-primary">política de privacidad</a> 
                                                y el tratamiento de mis datos personales.
                                            </label>
                                            <div class="invalid-feedback">
                                                Debes aceptar la política de privacidad.
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Submit Button -->
                                    <div class="col-12">
                                        <button 
                                            type="submit" 
                                            class="btn btn-primary btn-lg px-5 py-3 fw-semibold"
                                        >
                                            <i class="fas fa-paper-plane me-2"></i>
                                            Enviar Mensaje
                                        </button>
                                    </div>
                                </div>
                            </form>
                            
                            <!-- Success Message -->
                            <div id="successMessage" class="alert alert-success mt-4 d-none">
                                <i class="fas fa-check-circle me-2"></i>
                                ¡Mensaje enviado exitosamente! Te responderemos pronto.
                            </div>
                            
                            <!-- Error Message -->
                            <div id="errorMessage" class="alert alert-danger mt-4 d-none">
                                <i class="fas fa-exclamation-circle me-2"></i>
                                Hubo un error al enviar el mensaje. Por favor, inténtalo de nuevo.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq py-5 bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <h2 class="display-6 fw-bold text-dark text-center mb-5">
                            Preguntas Frecuentes
                        </h2>
                        
                        <div class="accordion" id="faqAccordion">
                            
                            <!-- FAQ 1 -->
                            <div class="accordion-item border-0 mb-3 rounded-3 overflow-hidden">
                                <h3 class="accordion-header">
                                    <button 
                                        class="accordion-button fw-semibold" 
                                        type="button" 
                                        data-bs-toggle="collapse" 
                                        data-bs-target="#faq1"
                                        aria-expanded="true" 
                                        aria-controls="faq1"
                                    >
                                        ¿Cómo puedo hacer un pedido?
                                    </button>
                                </h3>
                                <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body text-muted">
                                        Para hacer un pedido, simplemente navega por nuestro catálogo de productos, 
                                        añade los artículos que desees a tu carrito y procede al checkout. 
                                        Necesitarás crear una cuenta para completar la compra.
                                    </div>
                                </div>
                            </div>
                            
                            <!-- FAQ 2 -->
                            <div class="accordion-item border-0 mb-3 rounded-3 overflow-hidden">
                                <h3 class="accordion-header">
                                    <button 
                                        class="accordion-button collapsed fw-semibold" 
                                        type="button" 
                                        data-bs-toggle="collapse" 
                                        data-bs-target="#faq2"
                                        aria-expanded="false" 
                                        aria-controls="faq2"
                                    >
                                        ¿Cuáles son los métodos de pago aceptados?
                                    </button>
                                </h3>
                                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body text-muted">
                                        Aceptamos tarjetas de crédito y débito (Visa, Mastercard), 
                                        transferencia bancaria y pago contra reembolso para pedidos superiores a 30€.
                                    </div>
                                </div>
                            </div>
                            
                            <!-- FAQ 3 -->
                            <div class="accordion-item border-0 mb-3 rounded-3 overflow-hidden">
                                <h3 class="accordion-header">
                                    <button 
                                        class="accordion-button collapsed fw-semibold" 
                                        type="button" 
                                        data-bs-toggle="collapse" 
                                        data-bs-target="#faq3"
                                        aria-expanded="false" 
                                        aria-controls="faq3"
                                    >
                                        ¿Cómo puedo convertirme en productor?
                                    </button>
                                </h3>
                                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body text-muted">
                                        Si eres productor local y quieres vender tus productos en nuestra plataforma, 
                                        puedes registrarte como productor desde nuestra página de registro. 
                                        Nuestro equipo revisará tu solicitud y te contactará.
                                    </div>
                                </div>
                            </div>
                            
                            <!-- FAQ 4 -->
                            <div class="accordion-item border-0 mb-3 rounded-3 overflow-hidden">
                                <h3 class="accordion-header">
                                    <button 
                                        class="accordion-button collapsed fw-semibold" 
                                        type="button" 
                                        data-bs-toggle="collapse" 
                                        data-bs-target="#faq4"
                                        aria-expanded="false" 
                                        aria-controls="faq4"
                                    >
                                        ¿Qué zona de entrega cubrís?
                                    </button>
                                </h3>
                                <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body text-muted">
                                        Actualmente cubrimos toda la región de Murcia y zonas limítrofes. 
                                        Estamos trabajando para ampliar nuestra zona de entrega a otras provincias.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Additional Scripts for contact page -->
    <th:block th:fragment="additional-scripts">
        <script>
            // Form validation and submission
            (function() {
                'use strict';
                
                const form = document.getElementById('contactForm');
                const successMessage = document.getElementById('successMessage');
                const errorMessage = document.getElementById('errorMessage');
                
                form.addEventListener('submit', function(event) {
                    event.preventDefault();
                    event.stopPropagation();
                    
                    if (form.checkValidity()) {
                        // Simulate form submission
                        const formData = new FormData(form);
                        
                        // Show loading state
                        const submitBtn = form.querySelector('button[type="submit"]');
                        const originalText = submitBtn.innerHTML;
                        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Enviando...';
                        submitBtn.disabled = true;
                        
                        // Simulate API call
                        setTimeout(() => {
                            // Reset button
                            submitBtn.innerHTML = originalText;
                            submitBtn.disabled = false;
                            
                            // Show success message
                            successMessage.classList.remove('d-none');
                            errorMessage.classList.add('d-none');
                            
                            // Reset form
                            form.reset();
                            form.classList.remove('was-validated');
                            
                            // Scroll to success message
                            successMessage.scrollIntoView({ behavior: 'smooth' });
                        }, 2000);
                    }
                    
                    form.classList.add('was-validated');
                });
            })();
        </script>
    </th:block>
</body>
</html>